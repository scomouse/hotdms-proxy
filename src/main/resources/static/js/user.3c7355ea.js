(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{ac2a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userid",{rules:[{required:!0,message:"请输入账号名称"}],validateTrigger:"change"}],expression:"[\n              'userid',\n              {rules: [{ required: true, message: '请输入账号名称' }], validateTrigger: 'change'}\n            ]"}],attrs:{size:"large",type:"text",placeholder:"请输入账号名称"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"密码不能少于6位字符"},{validator:e.checkPasswordLevel}],validateTrigger:"change"}],expression:"[\n              'password',\n              {rules: [{ required: true, message: '密码不能少于6位字符'}, { validator: checkPasswordLevel }], validateTrigger: 'change'}\n            ]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"请输入密码"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-form-item",{staticStyle:{"margin-top":"24px"}},[a("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.state.loginBtn,disabled:e.state.loginBtn}},[e._v("登录")])],1)],1),a("div",{staticStyle:{"text-align":"center",color:"#05adb6","padding-top":"20px"}},[e._v("@hotdms v1.0.beta")])],1)},i=[],s=(a("498a"),a("d3b7"),a("ca00"),a("7ded")),o={components:{},data:function(){return{customActiveKey:"login",loginBtn:!1,form:this.$form.createForm(this),agreement:!0,state:{time:60,loginBtn:!1}}},created:function(){},methods:{handleForgetPassword:function(){this.$info({title:"忘记密码怎么办？",content:"请使用验证码方式进行本次登录，登录后您可以使用修改密码功能重置您的密码！"})},checkPasswordLevel:function(e,t,a){return t?(t=t.trim(),t.length<6?a(new Error("密码不能少于6位字符")):void a()):a(new Error("请输入密码"))},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields,r=this.state;r.loginBtn=!0;var i=["userid","password"];a(i,{force:!0},(function(e,a){e?setTimeout((function(){r.loginBtn=!1}),600):t.handleLogin(a)}))},handleLogin:function(e){var t=this;Object(s["b"])(e).then((function(e){"SUCCESS"!=e.code?t.requestFailed(e.message):(Vue.ls.set("Access-Token",e.data.token,6048e5),t.$store.dispatch("setLogin",{isLogined:!0}),t.$router.push({path:"/"}))})).catch((function(e){t.requestFailed(e)})).finally((function(){t.state.loginBtn=!1}))},requestFailed:function(e){this.$notification["error"]({message:"错误",description:e.message||"请求出现错误，请稍后再试",duration:4})}}},n=o,l=(a("d2d1"),a("2877")),c=Object(l["a"])(n,r,i,!1,null,"19639456",null);t["default"]=c.exports},ae0e:function(e,t,a){},d2d1:function(e,t,a){"use strict";a("ae0e")}}]);